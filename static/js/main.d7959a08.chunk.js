(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(n,e,t){n.exports=t(28)},27:function(n,e,t){},28:function(n,e,t){"use strict";t.r(e);var o=t(0),r=t.n(o),c=t(5),i=t.n(c),a=t(3),s=t(9);var u=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{text:""}],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_LINE":return console.log("CHANGE_LINE",e.no,e.text),n.map(function(n,t){return t!==e.no?n:{text:e.text}});case"INSERT_LINE":console.log("INSERT_LINE",e.no,e.text);var t=n.slice();return t.splice(e.no,0,{text:e.text}),t}return n};var p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{col:0,row:0},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CURSOR":return{row:e.row,col:e.col}}return n},l=Object(a.b)({lines:u,cursor:p}),f=t(6),d=t(7),h=t(11),b=t(8),v=t(10),k=function(n,e){return{type:"INSERT_LINE",text:e,no:n}},E=function(n,e){return{type:"SET_CURSOR",row:n,col:e}},m=t(2),w=t(1),y=t.n(w),O=function(n){function e(n){var t;return Object(f.a)(this,e),(t=Object(h.a)(this,Object(b.a)(e).call(this,n))).send=t.send.bind(Object(m.a)(t)),t.keyHandler=t.keyHandler.bind(Object(m.a)(t)),t.clickHandler=t.clickHandler.bind(Object(m.a)(t)),t}return Object(v.a)(e,n),Object(d.a)(e,[{key:"send",value:function(n){this.props.onChange(this.props.no,n.target.value)}},{key:"keyHandler",value:function(n){switch(n.keyCode){case 38:this.props.onUp(this.props.no);break;case 40:this.props.onDown(this.props.no);break;case 13:this.props.onEnter(this.props.no),n.preventDefault()}}},{key:"clickHandler",value:function(n){this.props.onClick(this.props.no)}},{key:"render",value:function(){return r.a.createElement("div",{className:"line "+this.props.className},r.a.createElement("textarea",{ref:"rawInput",onChange:this.send,onKeyDown:this.keyHandler,onClick:this.clickHandler,value:this.props.text}))}},{key:"updateFocus",value:function(){this.props.isFocus&&this.refs.rawInput.focus()}},{key:"componentDidUpdate",value:function(){this.updateFocus()}},{key:"componentDidMount",value:function(){this.updateFocus()}}]),e}(r.a.Component);Text.propTypes={onChange:y.a.func.isRequired,onUp:y.a.func.isRequired,onDown:y.a.func.isRequired,onClick:y.a.func.isRequired,no:y.a.number.isRequires,text:y.a.string.isRequired};var C=O,g=function(n){function e(n){return Object(f.a)(this,e),Object(h.a)(this,Object(b.a)(e).call(this,n))}return Object(v.a)(e,n),Object(d.a)(e,[{key:"render",value:function(){var n=this;return r.a.createElement("div",null,this.props.lines.map(function(e,t){return r.a.createElement(C,Object.assign({key:t},e,{onChange:n.props.onChange,onUp:n.props.onUp,onDown:n.props.onDown,onEnter:n.props.onEnter,onClick:n.props.onClick}))}))}}]),e}(r.a.Component),j=function(n,e){return e.map(function(e,t){return e.isFocus=t==n,e})},x=function(n){return n.map(function(n){return n.className=function(n){var e="normal";return 0==n.indexOf("###")?e="h3":0==n.indexOf("##")?e="h2":0==n.indexOf("#")&&(e="h1"),e}(n.text),n.isFocus&&(n.className+=" focus"),n})},N=Object(s.b)(function(n,e){return{lines:x(j(n.cursor.row,(t=n.lines,t.map(function(n,e){return n.no=e,n})))),cursor:n.cursor};var t},function(n){return{onChange:function(e,t){n(function(n,e){return{type:"CHANGE_LINE",text:e,no:n}}(e,t))},onUp:function(e){e>0&&n(E(e-1))},onDown:function(e){n(E(e+1))},onEnter:function(e){n(E(e+1)),n(k(e+1,""))},onClick:function(e){n(E(e))}}})(g),R=function(){return r.a.createElement("div",null,r.a.createElement(N,null))},I=(t(27),Object(a.c)(l));I.subscribe(function(){return console.log("state",I.getState())});I.dispatch(k(0,"# React.js\u3067\u4f5c\u3063\u305f\u30a4\u30f3\u30e9\u30a4\u30f3\u30de\u30fc\u30af\u30c0\u30a6\u30f3\u30a8\u30c7\u30a3\u30bf")),I.dispatch(k(1,"\u30ab\u30fc\u30bd\u30eb\u79fb\u52d5\u306a\u3069\u307e\u3060\u304a\u304b\u3057\u3044\u3067\u3059\u3002")),I.dispatch(k(2,"## \u4f5c\u3063\u305f\u4eba")),I.dispatch(k(3,"@ina_ani")),i.a.render(r.a.createElement(s.a,{store:I},r.a.createElement(R,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d7959a08.chunk.js.map